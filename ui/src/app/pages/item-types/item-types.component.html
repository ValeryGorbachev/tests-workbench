<div class="card">
    <div class="font-semibold text-xl mb-4">Номенклатура</div>
    @if (data) {
        <p-table [value]="data.content">
            <ng-template #caption>
                <div class="flex gap-4">
                    <span class="grow flex">
                        <input class="grow" pInputText [(ngModel)]="query" placeholder="Поиск" (ngModelChange)="loadItemTypes()">
                    </span>
                    <span>
                        <p-button icon="pi pi-plus" (onClick)="edit()" label="Добавить"></p-button>
                    </span>
                </div>
            </ng-template>
            <ng-template #header>
                <tr>
                    <th>#</th>
                    <th>Наименование</th>
                    <th>Ед.изм.</th>
                    <th>GTIN</th>
                    <th>Группа</th>
                    <th>Подгруппа</th>
                    <th>Действия</th>
                </tr>
            </ng-template>
            <ng-template #body let-item>
                <tr>
                    <td>{{item.id}}</td>
                    <td>{{item.title}}</td>
                    <td>{{item.units}}</td>
                    <td>{{item.gtin}}</td>
                    <td>{{item.group}}</td>
                    <td>{{item.subgroup}}</td>
                    <td>
                        <p-button icon="pi pi-pencil" (onClick)="edit(item.id)"></p-button>
                        <p-button icon="pi pi-trash" (onClick)="delete(item.id)"></p-button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    }
</div>
